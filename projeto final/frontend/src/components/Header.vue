<script setup lang="ts">
import { useUserStore } from '@/stores/userStore';
import { computed } from 'vue';

const userStore = useUserStore()
const authenticated = computed(() => { return userStore.logged })

</script>

<template>
  <header>
    <div>
      <RouterLink to="/">
        <svg
          width="76"
          height="24"
          viewBox="0 0 76 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M69.8265 21.2553C69.401 22.2553 68.8053 22.9681 68.0393 23.3936C67.2734 23.7979 66.3797 24 65.3585 24C64.401 24 63.4968 23.8192 62.6457 23.4575C61.8159 23.0958 61.0819 22.5638 60.4436 21.8617C59.8053 21.1596 59.2947 20.3085 58.9117 19.3085C58.55 18.3085 58.3691 17.1703 58.3691 15.8937V15.383C58.3691 14.1277 58.55 13.0001 58.9117 12.0001C59.2734 11.0001 59.7628 10.149 60.3798 9.44688C60.9968 8.74475 61.7096 8.21284 62.5181 7.85114C63.3478 7.46816 64.2308 7.27667 65.167 7.27667C66.2946 7.27667 67.1989 7.46816 67.8797 7.85114C68.5819 8.23412 69.1351 8.82986 69.5393 9.63837H70.1138V7.72348H74.135V18.766C74.135 19.4043 74.4223 19.7234 74.9967 19.7234H75.6031V23.5532H72.8584C72.135 23.5532 71.5393 23.3404 71.0712 22.9149C70.6244 22.4894 70.401 21.9362 70.401 21.2553H69.8265ZM66.2521 20.1702C67.4223 20.1702 68.3585 19.7873 69.0606 19.0213C69.7627 18.2341 70.1138 17.1703 70.1138 15.8298V15.4469C70.1138 14.1064 69.7627 13.0532 69.0606 12.2873C68.3585 11.5001 67.4223 11.1064 66.2521 11.1064C65.0819 11.1064 64.1457 11.5001 63.4436 12.2873C62.7415 13.0532 62.3904 14.1064 62.3904 15.4469V15.8298C62.3904 17.1703 62.7415 18.2341 63.4436 19.0213C64.1457 19.7873 65.0819 20.1702 66.2521 20.1702Z"
            fill="#E28413"
          />
          <path
            d="M39.5935 7.72338H44.285V1.21277H48.3062V7.72338H54.019V11.5532H48.3062V18.7659C48.3062 19.4042 48.5935 19.7233 49.1679 19.7233H53.4445V23.5531H46.7424C46.019 23.5531 45.4233 23.3191 44.9552 22.851C44.5084 22.3829 44.285 21.7872 44.285 21.0638V11.5532H39.5935V7.72338Z"
            fill="#E28413"
          />
          <path
            d="M20.7866 19.7233H26.1483V11.5531H21.1696V7.72337H30.1696V19.7233H34.7653V23.5531H20.7866V19.7233ZM31.1589 3.0319C31.1589 3.45743 31.0738 3.86169 30.9036 4.24466C30.7547 4.60637 30.5419 4.92551 30.2653 5.20211C29.9887 5.45743 29.6589 5.67019 29.2759 5.8404C28.9142 5.98934 28.5313 6.06381 28.127 6.06381C27.7015 6.06381 27.3079 5.98934 26.9462 5.8404C26.5845 5.67019 26.2653 5.45743 25.9887 5.20211C25.7121 4.92551 25.4887 4.60637 25.3185 4.24466C25.1696 3.86169 25.0951 3.45743 25.0951 3.0319C25.0951 2.60637 25.1696 2.21276 25.3185 1.85106C25.4887 1.46808 25.7121 1.14893 25.9887 0.893613C26.2653 0.617019 26.5845 0.404254 26.9462 0.255319C27.3079 0.0851062 27.7015 0 28.127 0C28.5313 0 28.9142 0.0851062 29.2759 0.255319C29.6589 0.404254 29.9887 0.617019 30.2653 0.893613C30.5419 1.14893 30.7547 1.46808 30.9036 1.85106C31.0738 2.21276 31.1589 2.60637 31.1589 3.0319Z"
            fill="#E28413"
          />
          <path
            d="M8.29784 20.1701C9.10635 20.1701 9.76592 20.0531 10.2766 19.819C10.8085 19.5637 11.2127 19.2339 11.4893 18.8297C11.7872 18.4042 11.9893 17.9254 12.0957 17.3935C12.2021 16.8403 12.2553 16.2765 12.2553 15.702V15.1276H16.468V15.702C16.468 18.3616 15.7659 20.4148 14.3616 21.8616C12.9787 23.2871 10.9574 23.9999 8.29784 23.9999C5.74466 23.9999 3.72339 23.2233 2.23403 21.6701C0.744678 20.1169 0 17.851 0 14.8723V9.89355C0 8.46803 0.191488 7.19144 0.574466 6.06378C0.957443 4.91485 1.51063 3.95741 2.23403 3.19145C2.95744 2.40422 3.82977 1.80848 4.85104 1.40423C5.87232 0.978695 7.02125 0.76593 8.29784 0.76593C9.61698 0.76593 10.7872 0.957418 11.8085 1.3404C12.8297 1.72337 13.6808 2.27656 14.3616 2.99996C15.0638 3.72337 15.585 4.5957 15.9255 5.61697C16.2872 6.63825 16.468 7.78718 16.468 9.06377V9.63824H12.2553V9.06377C12.2553 8.53186 12.1914 7.99994 12.0638 7.46803C11.9361 6.93612 11.7234 6.4574 11.4255 6.03187C11.1276 5.60634 10.7234 5.26591 10.2127 5.01059C9.70209 4.734 9.0638 4.5957 8.29784 4.5957C7.59572 4.5957 6.98933 4.734 6.4787 5.01059C5.96806 5.26591 5.54253 5.62761 5.20211 6.0957C4.86168 6.5425 4.60637 7.07442 4.43615 7.69143C4.28722 8.28718 4.21275 8.91483 4.21275 9.57441V15.1914C4.21275 15.9148 4.28722 16.585 4.43615 17.202C4.58509 17.7978 4.81913 18.3191 5.13828 18.7659C5.45743 19.2127 5.87232 19.5637 6.38295 19.819C6.91487 20.0531 7.55316 20.1701 8.29784 20.1701Z"
            fill="#E28413"
          />
        </svg>
      </RouterLink>

      <div v-if="authenticated" class="holder">
        <button @click="userStore.logout()" class="btn-secondary">Sair</button>
      </div>
      <div v-else class="holder">
        <RouterLink to="/cadastro" as="button">
          <button class="btn-secondary">Criar conta</button>
        </RouterLink>
        <RouterLink to="/login" as="button">
          <button class="btn-primary">Entrar</button>
        </RouterLink>
      </div>
    </div>
  </header>
</template>

<style scoped>
header {
  display: flex;
  padding: 1rem;
  flex-direction: column;
  align-items: center;
  gap: var(--root-2-rem, 2rem);

  border: 1px solid rgba(0, 0, 0, 0.1);
  background: var(--root-background-1, #fafafa);
  position: sticky;
}
div {
  display: flex;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;
}

a {
  text-decoration: none;
  color: #202020;
}

.holder {
  display: flex;
  gap: 0.5rem;
}

</style>
